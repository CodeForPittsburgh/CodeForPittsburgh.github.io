<html lang="en">
    <head>
        <title>Fish Fry Countdown Clock</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="CodeForPittsburgh">
        <meta name="author" content="Mark Howe">
        <link rel="icon" href="img/codeforpittsburgh.png">
        <link rel="stylesheet" href="css/custom.css">
        <script src="js/CalculateEaster.js"></script>
        <script src="js/CurrentYear.js"></script>

    </head>
    <body>
        <div class="image">
            <img src="img/FishFry.png" alt="Fish Fry" style="width:160px;height:160px;">
        </div>

        <div class="content">

            <p id="AshWednesday"></p>            
            <p id="GoodFriday"></p>
            <p id="Easter"></p>

            <div class="header" id="FishFryClock">
                <p id="message"></p>
                <div id="dhms"></div>
            </div>
        </div>
        <script>


            var d = new Date();
            var cy = d.getFullYear();

            //alert(cy);
            //var ny = d.getFullYear()+1;
            //alert(ny);
            //var ashwednesday = getAshWednesday(cy);
            //alert(ashwednesday);
            //var ashwednesday = getAshWednesday(ny);
            //alert(ashwednesday);
            var easter = getEaster(cy);
            //alert(easter);
            //var easter = getEaster(ny);
            //alert(easter);
            //var fishfrystatus = FishFryStatus(ashwednesday, easter);
            //var message;
            //message[0] = "Fish Fry Starts in:";
            //message[1] = "Fish Fry has started:";
            //message[2] = "Fish Fry Starts Next Year:";
            //document.getElementById("message").innerHTML = message[fishfrystatus];

                var d = new Date();
                var cy = d.getFullYear();
                //var gmt = new Date().toString().match(/([A-Z]+[\+-][0-9]+)/)[1];
                //gmt = getGMT(Date());
                //alert(Date());
                // need to test date to calculate gmt

                // document.getElementById("message").innerHTML = message;


                var ashwednesday = getAshWednesday(cy);
                //gmt = getGMT(ashwednesday);
                //alert(ashwednesday);
                var month = ashwednesday[0];
                var day = ashwednesday[1];
                var AshWednesdayresults = "Ash Wednesday " + cy + " is on " + month + " " + day;
                document.getElementById("AshWednesday").innerHTML = AshWednesdayresults;
                
                var AshWednesdaytargettime = month + " " + day + " " + cy + " 16:00:00 GMT-0500";
                var targettime = month + " " + day + " " + cy + " 16:00:00 GMT-0500";
                //alert(targettime);
                //var label = "AshWednesday";
                //document.getElementById(label).innerHTML = results;
                //document.getElementById("Enddate").innerHTML = starttime;

                var GoodFriday = getGoodFriday(cy);
                var month = GoodFriday[0];
                var day = GoodFriday[1];
                var GoodFridayresults = "Good Friday " + cy + " is on " + month + " " + day;
                document.getElementById("GoodFriday").innerHTML = GoodFridayresults;
                var GoodFridaytargettime = month + " " + day + " " + cy ;
                //initializeFishFryClock('FishFryClock', endtime);
                //getTimeRemaining(endtime).minutes;

                //var easter = getEaster(cy);
                var month = easter[0];
                var day = easter[1];
                var Easterresults = "Easter " + cy + " is on " + month + " " + day;
                document.getElementById("Easter").innerHTML = Easterresults;
                var Eastertargettime = month + " " + day + " " + cy ;
                
                //var message;
                var fishfrystatus = FishFryStatus(AshWednesdaytargettime, GoodFridaytargettime);
            message[0] = "Fish Fry Starts in:";
            message[1] = "Fish Fry has started:";
            message[2] = "Fish Fry Starts Next Year:";
            document.getElementById("message").innerHTML = message[fishfrystatus];            
                
            if (fishfrystatus === 0)
            {
                dhms(targettime);
                //initializeFishFryClock('FishFryClock', targettime);
                //getTimeRemaining(targettime).minutes;
            }
            

        </script>


    </body>
</html>
